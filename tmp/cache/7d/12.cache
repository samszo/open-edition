a:2:{s:9:"nom_cache";s:38:"7d12770f00cbce8bb5ab3263ea1ae201.cache";s:6:"valeur";a:12:{s:9:"squelette";s:37:"html_df59786bc2579149b2bfb3bc72c9609f";s:6:"source";s:53:"../plugins-dist/porte_plume/porte_plume_start.js.html";s:11:"process_ins";s:4:"html";s:11:"invalideurs";a:1:{s:5:"cache";s:38:"7d12770f00cbce8bb5ab3263ea1ae201.cache";}s:7:"entetes";a:2:{s:12:"X-Spip-Cache";s:6:"604800";s:12:"Content-Type";s:30:"text/javascript; charset=utf-8";}s:5:"duree";i:604800;s:5:"texte";s:16285:"


barre_outils_edition = {"nameSpace":"edition","previewAutoRefresh":false,"onEnter":{"keepDefault":false,"selectionType":"return","replaceWith":"\n"}
,"onShiftEnter":{"keepDefault":false,"replaceWith":"\n_ "}
,"onCtrlEnter":{"keepDefault":false,"replaceWith":"\n\n"}
,"markupSet":[{"name":"Transformer en {{{intertitre}}}","key":"H","className":"outil_header1","openWith":"\n{{{","closeWith":"}}}\n","selectionType":"line"}
,{"name":"Mettre en {{gras}}","key":"B","className":"outil_bold","replaceWith":function(h){ return espace_si_accolade(h, '{{', '}}');},"selectionType":"word"}
,{"name":"Mettre en {italique}","key":"I","className":"outil_italic","replaceWith":function(h){ return espace_si_accolade(h, '{', '}');},"selectionType":"word"}
,{"name":"Mettre en liste","className":"outil_liste_ul separateur_avant","replaceWith":function(h){ return outil_liste(h, '*');},"selectionType":"line","forceMultiline":true,"dropMenu":[{"id":"liste_ol","name":"Mettre en liste num√©rot√©e","className":"outil_liste_ol","replaceWith":function(h){ return outil_liste(h, '#');},"display":true,"selectionType":"line","forceMultiline":true}
,{"id":"desindenter","name":"D√©sindenter une liste","className":"outil_desindenter","replaceWith":function(h){return outil_desindenter(h);},"display":true,"selectionType":"line","forceMultiline":true}
,{"id":"indenter","name":"Indenter une liste","className":"outil_indenter","replaceWith":function(h){return outil_indenter(h);},"display":true,"selectionType":"line","forceMultiline":true}
]
}
,{"name":"Transformer en [lien hypertexte->http://...]","key":"L","className":"outil_link separateur separateur_apres sepLink","openWith":"[","closeWith":"->[![Veuillez indiquer l‚Äôadresse de votre lien (vous pouvez indiquer une adresse Internet sous la forme http://www.monsite.com, une adresse courriel, ou simplement indiquer le num√©ro d‚Äôun article de ce site.]!]]"}
,{"name":"Transformer en [[Note de bas de page]]","className":"outil_notes separateur_avant","openWith":"[[","closeWith":"]]","selectionType":"word"}
,{"name":"<quote>Citer un message</quote>","key":"Q","className":"outil_quote separateur separateur_apres sepGuillemets","openWith":"\n<quote>","closeWith":"</quote>\n","selectionType":"word","dropMenu":[{"id":"barre_poesie","name":"Mettre en forme comme une <poesie>po√©sie</poesie>","className":"outil_poesie","openWith":"\n<poesie>","closeWith":"</poesie>\n","display":true,"selectionType":"line"}
]
}
,{"name":"Entourer de ¬´¬†guillemets¬†¬ª","className":"outil_guillemets","openWith":"¬´","closeWith":"¬ª","lang":["fr","eo","cpf","ar","es"]
,"selectionType":"word","dropMenu":[{"id":"guillemets_simples","name":"Entourer de ‚Äúguillemets de second niveau‚Äù","className":"outil_guillemets_simples","openWith":"‚Äú","closeWith":"‚Äù","display":true,"lang":["fr","eo","cpf","ar","es"]
,"selectionType":"word"}
]
}
,{"name":"Entourer de ¬´¬†guillemets¬†¬ª","className":"outil_guillemets_de","openWith":"‚Äû","closeWith":"‚Äú","lang":["bg","de","pl","hr","src"]
,"selectionType":"word","dropMenu":[{"id":"guillemets_de_simples","name":"Entourer de ‚Äúguillemets de second niveau‚Äù","className":"outil_guillemets_de_simples","openWith":"&sbquo;","closeWith":"‚Äò","display":true,"lang":["bg","de","pl","hr","src"]
,"selectionType":"word"}
]
}
,{"name":"Entourer de ¬´¬†guillemets¬†¬ª","className":"outil_guillemets_simples separateur_avant","openWith":"‚Äú","closeWith":"‚Äù","lang_not":["fr","eo","cpf","ar","es","bg","de","pl","hr","src"]
,"selectionType":"word","dropMenu":[{"id":"guillemets_autres_simples","name":"Entourer de ‚Äúguillemets de second niveau‚Äù","className":"outil_guillemets_uniques","openWith":"‚Äò","closeWith":"‚Äô","display":true,"lang_not":["fr","eo","cpf","ar","es","bg","de","pl","hr","src"]
,"selectionType":"word"}
]
}
,{"name":"Ins√©rer des caract√®res sp√©cifiques","className":"outil_caracteres separateur separateur_apres sepCaracteres separateur_avant","dropMenu":[{"id":"A_grave","name":"Ins√©rer un √Ä","className":"outil_a_maj_grave","replaceWith":"√Ä","display":true,"lang":["fr","eo","cpf"]
}
,{"id":"E_aigu","name":"Ins√©rer un √â","className":"outil_e_maj_aigu","replaceWith":"√â","display":true,"lang":["fr","eo","cpf"]
}
,{"id":"E_grave","name":"Ins√©rer un √à","className":"outil_e_maj_grave","replaceWith":"√à","display":true,"lang":["fr","eo","cpf"]
}
,{"id":"aelig","name":"Ins√©rer un √¶","className":"outil_aelig","replaceWith":"√¶","display":true,"lang":["fr","eo","cpf"]
}
,{"id":"AElig","name":"Ins√©rer un √Ü","className":"outil_aelig_maj","replaceWith":"√Ü","display":true,"lang":["fr","eo","cpf"]
}
,{"id":"oe","name":"Ins√©rer un ≈ì","className":"outil_oe","replaceWith":"≈ì","display":true,"lang":["fr"]
}
,{"id":"OE","name":"Ins√©rer un ≈í","className":"outil_oe_maj","replaceWith":"≈í","display":true,"lang":["fr"]
}
,{"id":"Ccedil","name":"Ins√©rer un √á","className":"outil_ccedil_maj","replaceWith":"√á","display":true,"lang":["fr","eo","cpf"]
}
,{"id":"uppercase","name":"Passer en majuscules","className":"outil_uppercase","replaceWith":function(markitup) { return markitup.selection.toUpperCase() },"display":true,"lang":["fr","en"]
}
,{"id":"lowercase","name":"Passer en minuscules","className":"outil_lowercase","replaceWith":function(markitup) { return markitup.selection.toLowerCase() },"display":true,"lang":["fr","en"]
}
]
}
,{"name":"Formule Matematiche","className":"outil_equation separateur separateur_apres sepLatex separateur_avant","dropMenu":[{"id":"math","name":"Comincia paragrafo matematica","key":"M","className":"outil_math","openWith":"<math>","closeWith":"</math>","display":true,"selectionType":"line"}
,{"id":"dollar","name":"barre formula","key":"4","className":"outil_formula","openWith":"$$","closeWith":"$$","display":true,"selectionType":"word"}
,{"id":"brackets","name":"Parentesi Tonde","key":"8","className":"outil_brackets","openWith":"\\left(","closeWith":"\\right)","display":true}
,{"id":"squarebrackets","name":"Parentesi Quadre","className":"outil_squarebrackets","openWith":"\\left[","closeWith":"\\right]","display":true}
,{"id":"setbrackets","name":"Parentesi Graffe","className":"outil_setbrackets","openWith":"\\left{","closeWith":"\\right}","display":true}
,{"id":"frac","name":"Frazione","key":"F","className":"outil_frac","openWith":"\\frac{}{}","display":true}
,{"id":"sqrt","name":"Radice Quadrata","className":"outil_sqrt","openWith":"\\sqrt{","closeWith":"}","display":true}
,{"id":"cdot","name":"Punto Moltiplicazione","key":"X","className":"outil_cdot","openWith":"\\cdot","display":true}
,{"id":"pm","name":"¬± pi√π e meno","className":"outil_plusminus","openWith":"\\pm","display":true}
,{"id":"system","name":"sistema di equazioni","className":"outil_system","openWith":"$\n\\left\\{\\begin{array}{}\n","closeWith":"ax+by=c\\\\\na_{1}x+b_{1}\ny=c_{1}\nnd{array}\n$","display":true,"selectionType":"line"}
,{"id":"array","name":"array di equazioni","className":"outil_array","openWith":"$\n\\begin{array}\\left\n","closeWith":"\n\n\\rightnd{array}\n$","display":true,"selectionType":"line"}
,{"id":"pedex","name":"Pedice","key":"P","className":"outil_pedex","openWith":"_{","closeWith":"}","display":true}
,{"id":"vector","name":"Vettore","className":"outil_vector","openWith":"\\vec{","closeWith":"}","display":true}
,{"id":"sum","name":"Sommatoria","className":"outil_sum","openWith":"\\sum","display":true}
,{"id":"prod","name":"Produttoria","key":"P","className":"outil_prod","openWith":"\\prod","display":true}
,{"id":"rightarrow","name":"Freccia a destra","className":"outil_rightarrow","openWith":"\\rightarrow","display":true}
,{"id":"leftarrow","name":"Freccia a sinistra","className":"outil_leftarrow","openWith":"\\leftarrow","display":true}
,{"id":"leftrightarrow","name":"Doppia implicazione","className":"outil_leftrightarrow","openWith":"\\Leftrightarrow","display":true}
,{"id":"rrightarrow","name":"Implicazione Logica","className":"outil_rrightarrow","openWith":"\\Rightarrow","display":true}
,{"id":"latexhelp","name":"Tabella comandi LaTeX e altre references","className":"outil_latexhelp","display":true,"beforeInsert":function(h) { window.open('http://gapai.univ-paris8.fr/open-edition/\?page=latex','LaTeX commands','menubar=no,scrollbars=yes,status=0,toolbar=no,location=0,left=300,width=760'); }}
]
}
,{"name":"Ins√©rer un code informatique (code)","className":"outil_code separateur separateur_apres sepCode","openWith":"<code>","closeWith":"</code>","dropMenu":[{"id":"cadre","name":"Ins√©rer un code pr√©format√© (cadre)","className":"outil_cadre","openWith":"<cadre>\n","closeWith":"\n</cadre>","display":true}
]
}
]
}


 
				// remplace ou cree -* ou -** ou -# ou -##
				function outil_liste(h, c) {
					if ((s = h.selection) && (r = s.match(/^-([*#]+) (.*)$/)))	 {
						r[1] = r[1].replace(/[#*]/g, c);
						s = '-'+r[1]+' '+r[2];
					} else {
						s = '-' + c + ' '+s;
					}
					return s;
				}

				// indente des -* ou -#
				function outil_indenter(h) {
					if (s = h.selection) {
						if (s.substr(0,2)=='-*') {
							s = '-**' + s.substr(2);
						} else if (s.substr(0,2)=='-#') {
							s = '-##' + s.substr(2);
						} else {
							s = '-* ' + s;
						}
					}
					return s;
				}
						
				// desindente des -* ou -** ou -# ou -##
				function outil_desindenter(h){
					if (s = h.selection) {
						if (s.substr(0,3)=='-**') {
							s = '-*' + s.substr(3);
						} else if (s.substr(0,3)=='-* ') {
							s = s.substr(3);
						} else if (s.substr(0,3)=='-##') {
							s = '-#' + s.substr(3);
						} else if (s.substr(0,3)=='-# ') {
							s = s.substr(3);
						}
					}
					return s;
				}
				
				// ajouter un espace avant, apres un {qqc} pour ne pas que
				// gras {{}} suivi de italique {} donnent {{{}}}, mais { {{}} }
				function espace_si_accolade(h, openWith, closeWith){
					if (s = h.selection) {
						// accolade dans la selection
						if (s.charAt(0)=='{') {
							return openWith + ' ' + s + ' ' + closeWith;
						}
						// accolade avant la selection
						else if (c = h.textarea.selectionStart) {
							if (h.textarea.value.charAt(c-1) == '{') {
								return ' ' + openWith + s + closeWith + ' ';
							}
						}
					}
					return openWith + s + closeWith;
				} 
				

barre_outils_forum = {"nameSpace":"forum","previewAutoRefresh":false,"onEnter":{"keepDefault":false,"selectionType":"return","replaceWith":"\n"}
,"onShiftEnter":{"keepDefault":false,"replaceWith":"\n_ "}
,"onCtrlEnter":{"keepDefault":false,"replaceWith":"\n\n"}
,"markupSet":[{"name":"Mettre en {{gras}}","key":"B","className":"outil_bold","replaceWith":function(h){ return espace_si_accolade(h, '{{', '}}');},"selectionType":"word"}
,{"name":"Mettre en {italique}","key":"I","className":"outil_italic separateur_avant","replaceWith":function(h){ return espace_si_accolade(h, '{', '}');},"selectionType":"word"}
,{"name":"Transformer en [lien hypertexte->http://...]","key":"L","className":"outil_link separateur separateur_apres sepLink separateur_avant","openWith":"[","closeWith":"->[![Veuillez indiquer l‚Äôadresse de votre lien (vous pouvez indiquer une adresse Internet sous la forme http://www.monsite.com, une adresse courriel, ou simplement indiquer le num√©ro d‚Äôun article de ce site.]!]]"}
,{"name":"<quote>Citer un message</quote>","key":"Q","className":"outil_quote separateur separateur_apres sepGuillemets","openWith":"\n<quote>","closeWith":"</quote>\n","selectionType":"word"}
,{"name":"Entourer de ¬´¬†guillemets¬†¬ª","className":"outil_guillemets","openWith":"¬´","closeWith":"¬ª","lang":["fr","eo","cpf","ar","es"]
,"selectionType":"word","dropMenu":[{"id":"guillemets_simples","name":"Entourer de ‚Äúguillemets de second niveau‚Äù","className":"outil_guillemets_simples","openWith":"‚Äú","closeWith":"‚Äù","display":true,"lang":["fr","eo","cpf","ar","es"]
,"selectionType":"word"}
]
}
,{"name":"Entourer de ¬´¬†guillemets¬†¬ª","className":"outil_guillemets_de","openWith":"‚Äû","closeWith":"‚Äú","lang":["bg","de","pl","hr","src"]
,"selectionType":"word","dropMenu":[{"id":"guillemets_de_simples","name":"Entourer de ‚Äúguillemets de second niveau‚Äù","className":"outil_guillemets_de_simples","openWith":"&sbquo;","closeWith":"‚Äò","display":true,"lang":["bg","de","pl","hr","src"]
,"selectionType":"word"}
]
}
,{"name":"Entourer de ¬´¬†guillemets¬†¬ª","className":"outil_guillemets_simples separateur_avant","openWith":"‚Äú","closeWith":"‚Äù","lang_not":["fr","eo","cpf","ar","es","bg","de","pl","hr","src"]
,"selectionType":"word","dropMenu":[{"id":"guillemets_autres_simples","name":"Entourer de ‚Äúguillemets de second niveau‚Äù","className":"outil_guillemets_uniques","openWith":"‚Äò","closeWith":"‚Äô","display":true,"lang_not":["fr","eo","cpf","ar","es","bg","de","pl","hr","src"]
,"selectionType":"word"}
]
}
]
}


 
				// remplace ou cree -* ou -** ou -# ou -##
				function outil_liste(h, c) {
					if ((s = h.selection) && (r = s.match(/^-([*#]+) (.*)$/)))	 {
						r[1] = r[1].replace(/[#*]/g, c);
						s = '-'+r[1]+' '+r[2];
					} else {
						s = '-' + c + ' '+s;
					}
					return s;
				}

				// indente des -* ou -#
				function outil_indenter(h) {
					if (s = h.selection) {
						if (s.substr(0,2)=='-*') {
							s = '-**' + s.substr(2);
						} else if (s.substr(0,2)=='-#') {
							s = '-##' + s.substr(2);
						} else {
							s = '-* ' + s;
						}
					}
					return s;
				}
						
				// desindente des -* ou -** ou -# ou -##
				function outil_desindenter(h){
					if (s = h.selection) {
						if (s.substr(0,3)=='-**') {
							s = '-*' + s.substr(3);
						} else if (s.substr(0,3)=='-* ') {
							s = s.substr(3);
						} else if (s.substr(0,3)=='-##') {
							s = '-#' + s.substr(3);
						} else if (s.substr(0,3)=='-# ') {
							s = s.substr(3);
						}
					}
					return s;
				}
				
				// ajouter un espace avant, apres un {qqc} pour ne pas que
				// gras {{}} suivi de italique {} donnent {{{}}}, mais { {{}} }
				function espace_si_accolade(h, openWith, closeWith){
					if (s = h.selection) {
						// accolade dans la selection
						if (s.charAt(0)=='{') {
							return openWith + ' ' + s + ' ' + closeWith;
						}
						// accolade avant la selection
						else if (c = h.textarea.selectionStart) {
							if (h.textarea.value.charAt(c-1) == '{') {
								return ' ' + openWith + s + closeWith + ' ';
							}
						}
					}
					return openWith + s + closeWith;
				} 
				


;(function($){

// 2 fonctions pour appeler le porte plume reutilisables pour d'autres plugins
// on envoie dedans la selection jquery qui doit etre effectuee
// ce qui evite des appels direct a markitup, aucazou on change de lib un jour
$.fn.barre_outils = function(nom, settings) {
	options = {
		lang:'fr'
	};
	$.extend(options, settings);

	return $(this)
		.not('.markItUpEditor, .no_barre')
		.markItUp(eval('barre_outils_' + nom), {lang:options.lang})
		.parent().find('.markItUpButton a').attr('tabindex', -1) // ne pas tabuler les boutons
		.end(); 
};

$.fn.barre_previsualisation = function(settings) {
	options = {
		previewParserPath:"index.php?action=porte_plume_previsu", // ici une url relative pour prive/public
		textEditer:"√âditer",
		textVoir:"Voir"
	};
	$.extend(options, settings);

	return $(this)
		.not('.pp_previsualisation, .no_previsualisation')
		.previsu_spip(options)
		.parent().find('.markItUpTabs a').attr('tabindex', -1) // ne pas tabuler les onglets
		.end();
};

$(window).load(function(){
	// ajoute les barres d'outils markitup
	function barrebouilles(){
		// fonction generique appliquee aux classes CSS :
		// inserer_barre_forum, inserer_barre_edition, inserer_previsualisation
		$('.formulaire_spip textarea.inserer_barre_forum').barre_outils('forum');
		$('.formulaire_spip textarea.inserer_barre_edition').barre_outils('edition');
		$('.formulaire_spip textarea.inserer_previsualisation').barre_previsualisation();
		// fonction specifique aux formulaires de SPIP :
		// barre de forum
		$('textarea.textarea_forum').barre_outils('forum');
		 
		$('.formulaire_forum textarea[name=texte]').barre_outils('forum');
		// barre d'edition et onglets de previsualisation
		$('.formulaire_spip textarea[name=texte]')
			.barre_outils('edition').end()
			.barre_previsualisation();
	}
	barrebouilles();
	onAjaxLoad(barrebouilles);

});
})(jQuery);
";s:5:"notes";s:0:"";s:8:"contexte";a:5:{s:4:"lang";s:2:"fr";s:4:"date";s:19:"2016-05-04 11:28:06";s:12:"date_default";b:1;s:10:"date_redac";s:19:"2016-05-04 11:28:06";s:18:"date_redac_default";b:1;}s:12:"lastmodified";i:1462354085;s:3:"sig";i:2622646007;s:2:"gz";b:0;}}